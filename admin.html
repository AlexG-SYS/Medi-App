<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard - Medi App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link href="css/styles.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js"></script>
</head>

<body>
    <div id="adminApp">


        <div class="container-fluid">
            <div class="row">
                <!-- Sidebar -->
                <nav class="col-md-2 sidebar d-none d-md-flex flex-column p-0">
                    <div class="text-center pt-4 pb-3">
                        <img src="img/MediAppLogo.png" height="90" width="auto" alt="MediApp.bz">
                    </div>
                    <a href="#" class="active"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a>
                    <a href="#"><i class="bi bi-person-badge me-2"></i>Doctors</a>
                    <a href="#"><i class="bi bi-people me-2"></i>Users</a>
                    <a href="#"><i class="bi bi-chat-left-text me-2"></i>Reviews</a>
                    <a href="#"><i class="bi bi-graph-up me-2"></i>Reports</a>
                    <a href="#"><i class="bi bi-tools me-2"></i>Support</a>
                </nav>


                <!-- Main Content -->
                <main class="col-md-10 py-4 px-4">

                    <!-- Overview Cards -->
                    <div class="row mb-4">
                        <div class="col-md-3" v-for="(stat, index) in stats" :key="index">
                            <div class="card text-center shadow-sm">
                                <div class="card-body">
                                    <h5 class="card-title">{{ stat.title }}</h5>
                                    <p class="display-6 text-primary">{{ stat.count }}</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Manage Doctors -->
                    <div class="card mb-4">
                        <div class="card-header bg-secondary text-white">Manage Doctor Accounts</div>
                        <div class="card-body">
                            <div class="table-responsive">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Specialty</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr v-for="doctor in doctors" :key="doctor.id">
                                            <td>{{ doctor.name }}</td>
                                            <td>{{ doctor.specialty }}</td>
                                            <td>
                                                <span class="badge"
                                                    :class="doctor.approved ? 'bg-success' : 'bg-warning'">
                                                    {{ doctor.approved ? 'Approved' : 'Pending' }}
                                                </span>
                                            </td>
                                            <td>
                                                <button v-if="!doctor.approved" class="btn btn-sm btn-success me-2"
                                                    @click="approveDoctor(doctor)">Approve</button>
                                                <button class="btn btn-sm btn-danger"
                                                    @click="suspendDoctor(doctor)">Suspend</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>

                    <!-- Manage Users -->
                    <div class="card mb-4">
                        <div class="card-header bg-secondary text-white">Manage Users</div>
                        <div class="card-body">
                            <ul class="list-group">
                                <li v-for="user in users" :key="user.id"
                                    class="list-group-item d-flex justify-content-between align-items-center">
                                    {{ user.name }}
                                    <button class="btn btn-sm btn-danger" @click="suspendUser(user)">Suspend</button>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <!-- Review Moderation -->
                    <div class="card mb-4">
                        <div class="card-header bg-secondary text-white">Moderate Reviews</div>
                        <div class="card-body">
                            <div v-for="review in reviews" :key="review.id" class="mb-3 border p-3 rounded">
                                <p><strong>{{ review.user }}</strong>: {{ review.content }}</p>
                                <button class="btn btn-sm btn-outline-danger"
                                    @click="removeReview(review)">Remove</button>
                            </div>
                        </div>
                    </div>

                    <!-- System Usage Report -->
                    <div class="card mb-4">
                        <div class="card-header bg-secondary text-white">System Usage Reports</div>
                        <div class="card-body">
                            <p>Monthly Active Users: {{ reports.activeUsers }}</p>
                            <p>Total Appointments: {{ reports.totalAppointments }}</p>
                            <p>New Registrations: {{ reports.newRegistrations }}</p>
                        </div>
                    </div>

                    <!-- Support Requests -->
                    <div class="card">
                        <div class="card-header bg-secondary text-white">Technical Support Requests</div>
                        <div class="card-body">
                            <ul class="list-group">
                                <li v-for="ticket in supportTickets" :key="ticket.id"
                                    class="list-group-item d-flex justify-content-between align-items-center">
                                    {{ ticket.subject }}
                                    <span class="badge bg-info">{{ ticket.status }}</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </main>
            </div>
        </div>



    </div>

    <script>
        new Vue({
            el: '#adminApp',
            data: {
                stats: [
                    { title: 'Doctors', count: 120 },
                    { title: 'Users', count: 560 },
                    { title: 'Appointments', count: 980 },
                    { title: 'Support Tickets', count: 24 }
                ],
                doctors: [
                    { id: 1, name: 'Dr. Jane Doe', specialty: 'Cardiology', approved: false },
                    { id: 2, name: 'Dr. John Smith', specialty: 'Dermatology', approved: true }
                ],
                users: [
                    { id: 1, name: 'Alice Johnson' },
                    { id: 2, name: 'Mark Lee' }
                ],
                reviews: [
                    { id: 1, user: 'Alice', content: 'Great service!' },
                    { id: 2, user: 'Bob', content: 'Very helpful doctor.' }
                ],
                reports: {
                    activeUsers: 350,
                    totalAppointments: 1280,
                    newRegistrations: 75
                },
                supportTickets: [
                    { id: 1, subject: 'Login Issue', status: 'Open' },
                    { id: 2, subject: 'Appointment not showing', status: 'Resolved' }
                ]
            },
            methods: {
                approveDoctor(doctor) {
                    doctor.approved = true;
                },
                suspendDoctor(doctor) {
                    alert(`Doctor ${doctor.name} has been suspended.`);
                },
                suspendUser(user) {
                    alert(`User ${user.name} has been suspended.`);
                },
                removeReview(review) {
                    this.reviews = this.reviews.filter(r => r.id !== review.id);
                }
            }
        });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>